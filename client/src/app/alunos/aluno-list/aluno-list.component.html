<h4 class="grey-text">Alunos</h4>
<ul materialize="collapsible" class="collapsible" data-collapsible="accordion">
	<div class="collapsible-header flex-container disabled">
			<input type="checkbox" disabled>
			<label class="disabled"></label>
			<div class="flex nome"><b class="truncate">Nome (Status)</b></div>
			<div class="flex escola"><b class="truncate">Escola</b></div>
			<div class="flex serie-turno"><b class="truncate">Série (Turno)</b></div>
	</div>
	<li *ngFor="let aluno of alunos | navFilter: keyword:'nome'">
		<div class="collapsible-header flex-container selectable" (click)="onSelectAluno(aluno._id)">
			<input
				type="checkbox"
				class="filled-in"
				[id]="aluno._id"
				[checked]="aluno._id === selectedAlunoId">
			<label [for]="aluno._id"></label>
			<div class="flex nome truncate">{{ aluno.nome }}
				<i
					materialize="tooltip"
					class="material-icons right status tooltipped"
					data-position="left"
					data-ldelay="50"
					[attr.data-tooltip]="aluno.statusFormatted"
					[ngClass]="aluno.status.toLowerCase()">more</i>
			</div>
			<div class="flex escola truncate">{{ aluno.escola.nome }}</div>
			<div class="flex serie-turno truncate">{{ aluno.serieTurno }}</div>
		</div>
		<div class="collapsible-body">
			<ul materialize="collapsible" class="v-scroll" *ngIf="atendimentos.length">
				<div class="collapsible-header flex-container disabled">
					<input type="checkbox" disabled>
					<label class="disabled"></label>
					<div class="flex-item"><b>Profissional</b></div>
					<div class="flex-item"><b>Solicitação</b></div>
					<div class="flex-item"><b>Tipo</b></div>
					<div class="flex-item"><b>Status</b></div>
					<div class="flex-item"><b>Início</b></div>
					<div class="flex-item"><b>Alta</b></div>
					<div class="flex-item-extended"><b>Parecer</b></div>
				</div>
				<app-atendimento-item
					[atendimento]="atendimento"
					[selectedId]="selectedAtendimentoId"
					(click)="onSelectAtendimento(atendimento._id)"
					*ngFor="let atendimento of atendimentos">{{ atendimento.profissional.nome }}</app-atendimento-item>
			</ul>
			<br>
			<a class="waves-effect waves-light btn-large teal lighten-2" (click)="openModalAtendimento()">
				<i class="material-icons left">add_box</i> Novo Atendimento
			</a>
		</div>
	</li>
</ul>
<div class="fixed-action-btn" *ngIf="selectedAlunoId">
	<a class="btn-floating btn-large amber pulse" [routerLink]="getAlunoLink()">
		<i class="large material-icons">mode_edit</i>
	</a>
	<ul *ngIf="selectedAtendimentoId">
		<li><a class="waves-effect waves-light btn-floating teal lighten-2" (click)="openModalAtendimento()">
			<i class="material-icons">assignment</i></a>
		</li>
	</ul>
</div>
<div
	id="modalAtendimento"
	class="modal modal-fixed-footer"
	materialize="modal"
	[materializeParams]="modalAtendimentoParams"
	[materializeActions]="modalAtendimentoActions">
	<div class="modal-content">
		<app-atendimento [atendimentoId]="selectedAtendimentoId" [selectedId]="selectedAlunoId"></app-atendimento>
	</div>
	<div class="modal-footer">
		<a class="modal-action modal-close waves-effect waves-green btn-flat" (click)="onSaveAtendimento()">Salvar</a>
		<a class="waves-effect modal-close waves-effect waves-red btn-flat">Cancelar</a>
	</div>
</div>